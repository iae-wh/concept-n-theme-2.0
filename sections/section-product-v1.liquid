<div data-section-id="{{ section.id }}" data-section-type="section-product-v1"
     style="{% if section.settings.margin_top != blank %}margin-top: {{section.settings.margin_top}}px;{% endif %} {% if section.settings.margin_bottom != blank %}margin-bottom: {{section.settings.margin_bottom}}px;{% endif %}">
    <div class="section-product-v1 mt-all">
        <div class="container container-v2 d-flex flex-wrap {% if section.settings.heading_position != 'center' %}flex-lg-nowrap{% endif %} column-gap-1 row-gap-2 row-gap-sm-4">
            {% if section.settings.title_1 != blank or section.settings.sub-title1 != blank %}
                <div class="text-{{ section.settings.heading_position }} heading-wrapper heading-{{ section.settings.heading_position }}">
                    {% if section.settings.title_1 != blank %}
                        <h1 class="title_heading mb-2">{{ section.settings.title_1 }}</h1>
                    {% endif %}
                    {% if section.settings.sub-title1 != blank %}
                        <span class="sub_heading pb-1 pb-lg-0 mb-3 mb-lg-4">
                            {{ section.settings.sub-title1 }}
                        </span>
                    {% endif %}
                    {% if section.settings.button_text != blank %}
                        <a href="{{ section.settings.button_url}}"
                           class="button-shop text-center text-decoration-none">{{ section.settings.button_text }}</a>
                    {% endif %}
                </div>
            {% endif %}
            <div class="row js_section_product">
                {% assign products_limit = section.settings.products_limit %}
                {% assign col = section.settings.select_collection %}
                {% for product in collections[col].products limit: products_limit %}
                    <div class="col-md-4 col-12 product_item">
                        {% include 'product-item-v1' %}
                    </div>
                {% else %}
                    {% for i in (1..products_limit) %}
                        <div class="col-md-4 col-12 product_item">
                            {% include 'empty-product-item' %}
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<style>
    .section-product-v1 .button-shop {
        color: {{ section.settings.button_color }};
        background-color: {{ section.settings.button_background }};
        border: 1px solid {{ section.settings.button_border }};
    }
    .section-product-v1 .button-shop:hover {
        color: {{ section.settings.button_color_hover }};
        background-color: {{ section.settings.button_background_hover }};
        border: 1px solid {{ section.settings.button_border_hover }};
    }
</style>

{% schema %}
{
    "name": "PRODUCT V1",
    "settings": [
        {
            "type": "header",
            "content": "Product 1"
        },
        {
            "type": "select",
            "id": "heading_position",
            "label": "Heading Position",
            "options": [
                {
                    "value": "left",
                    "label": "Left"
                },
                {
                    "value": "right",
                    "label": "Right"
                },
                {
                    "value": "center",
                    "label": "Center"
                }
            ],
            "default": "center"
        },
        {
            "type": "text",
            "id": "title_1",
            "label": "Title banner"
        },
        {
            "type": "text",
            "id": "sub-title1",
            "label": "sub title 1",
            "default": "Don't Miss Today's Featured Deals"
        },
        {
            "type": "text",
            "id": "button_text",
            "label": "Button",
            "default": "Shop now"
        },
        {
            "type": "url",
            "id": "button_url",
            "label": "Button URL",
            "default": "/collections/all"
        },
        {
            "type": "color",
            "id": "button_color",
            "label": "Button text color",
            "default": "#ffffff"
        },
        {
            "type": "color",
            "id": "button_border",
            "label": "Button border color",
            "default": "#000000"
        },
        {
            "type": "color",
            "id": "button_background",
            "label": "Button background color",
            "default": "#000000"
        },
        {
            "type": "color",
            "id": "button_color_hover",
            "label": "Button hover text color",
            "default": "#000000"
        },
        {
            "type": "color",
            "id": "button_border_hover",
            "label": "Button hover border color",
            "default": "#000000"
        },
        {
            "type": "color",
            "id": "button_background_hover",
            "label": "Button hover background color",
            "default": "#ffffff"
        },
        {
            "type": "header",
            "content": "Info Product"
        },
        {
            "type": "collection",
            "id": "select_collection",
            "label": "Select Collection"
        },
        {
            "type": "range",
            "id": "products_limit",
            "label": "Limit products",
            "min": 2,
            "max": 50,
            "step": 1,
            "default": 3
        },
        {
            "type": "header",
            "content": "Section Space"
        },
        {
            "type": "text",
            "id": "margin_top",
            "label": "Margin Top",
            "info": "Defined in pixels. Do not add the 'px' unit."
        },
        {
            "type": "text",
            "id": "margin_bottom",
            "label": "Margin Bottom",
            "info": "Defined in pixels. Do not add the 'px' unit."
        }
    ],
    "presets": [
        {
            "name": "PRODUCT V1",
            "category": "HOME"
        }
    ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}
